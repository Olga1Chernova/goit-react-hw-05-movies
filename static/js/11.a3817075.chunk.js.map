{"version":3,"file":"static/js/11.a3817075.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/modules/MovieSearch/MovieSearchForm/movie-search-form.module.scss?8ef4","modules/MovieSearch/MovieSearchForm/initialState.js","shared/hooks/useForm.js","modules/MovieSearch/MovieSearchForm/MovieSearchForm.jsx","modules/MovieSearch/MovieSearch.jsx","pages/MoviesPage/MoviesPage.jsx","webpack://goit-react-hw-05-movies/./src/shared/components/MovieList/movie-list.module.scss?f454","shared/components/MovieList/MovieList.jsx","shared/services/movies-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"movie-search-form_Searchbar__sQz4-\",\"SearchForm\":\"movie-search-form_SearchForm__JrNam\",\"SearchForm-button\":\"movie-search-form_SearchForm-button__YIj-L\",\"SearchForm-button-label\":\"movie-search-form_SearchForm-button-label__IuLk6\",\"SearchForm-input\":\"movie-search-form_SearchForm-input__5zhJi\",\"icon\":\"movie-search-form_icon__PnIVx\"};","const initialState = {\n    search: \"\",\n}\n\nexport default initialState;","import { useState } from \"react\";\n\nconst useForm = ({ initialState, onSubmit }) => {\n  const [state, setState] = useState({ ...initialState });\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setState(prevState => {\n      return { ...prevState, [name]: value }\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit({ ...state });\n    setState({ ...initialState });\n  };\n\n  return { state, setState, handleChange, handleSubmit };\n}\n\n\nexport default useForm;","import { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { FcSearch } from 'react-icons/fc';\n\nimport css from './movie-search-form.module.scss';\nimport initialState from './initialState';\nimport useForm from '../../../shared/hooks/useForm';\n\nconst MovieSearchForm = ({ onSubmit }) => {\n  //use custom form hook\n  const { state, handleChange, handleSubmit } = useForm({\n    initialState,\n    onSubmit,\n  });\n\n  const { search } = state;\n\n  return (\n    <header className={css.Searchbar}>\n      <form className={css.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={css['SearchForm-button']}>\n          <span className={css['SearchForm-button-label']}>Search</span>\n          <span>\n            <FcSearch className={css.icon} />\n          </span>\n        </button>\n\n        <input\n          className={css['SearchForm-input']}\n          name=\"search\"\n          value={search}\n          onChange={handleChange}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movie\"\n          required\n        />\n      </form>\n    </header>\n  );\n};\n\nexport default memo(MovieSearchForm);\n\nMovieSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useState, useEffect, useCallback } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport MovieSearchForm from './MovieSearchForm/MovieSearchForm';\nimport MovieList from 'shared/components/MovieList/MovieList';\n\nimport Loader from 'shared/components/Loader/Loader';\n\nimport { searchMovies } from '../../shared/services/movies-api';\n\nconst MovieSearch = () => {\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('search');\n  const page = searchParams.get('page');\n\n  \n  useEffect(() => {\n    if (!search) {\n      return;\n    }\n\n    const fetchMovies = async () => {\n      try {\n        setLoading(true);\n        const data = await searchMovies(search, page);\n        setItems(prevItems => [...prevItems, ...data.results]);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMovies();\n  }, [search, setLoading, setItems, setError, page]);\n\n  const FindMovies = useCallback(({ search }) => {\n    setSearchParams({ search, page: 1 });\n    setItems([]);\n  }, [setSearchParams, setItems]);\n\n\n\n  return (\n    <>\n      <MovieSearchForm onSubmit={FindMovies} />\n      <MovieList items={items}/>\n      {error && <p>{error}</p>}\n      {loading && <Loader/>}\n    </>\n  );\n};\n\nexport default MovieSearch;\n","//import css from './movies-page.module.scss';\n\nimport MovieSearch from \"modules/MovieSearch/MovieSearch\";\n\nconst MoviesPage = () => {\n  return <MovieSearch />;\n};\n\nexport default MoviesPage;\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"movie-list_link__UrE34\",\"list\":\"movie-list_list__RJ6TY\",\"item\":\"movie-list_item__8v-FB\"};","import { memo } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport css from './movie-list.module.scss';\n\nconst MovieList = ({ items }) => {\n    const location = useLocation();\n\n  const elements = items.map(({ id, title }) => (\n    <Link\n      className={css.link}\n      key={id}\n      to={`/movies/${id}`}\n      state={{ from: location }}\n    >\n      <li key={id} className={css.item}>\n        {title}\n      </li>\n    </Link>\n  ));\n\n  return <ul className={css.list}>{elements}</ul>;\n};\n\nexport default memo(MovieList);\n\nMovieList.defaultProps = {\n  items: [],\n};\n","import axios from \"axios\";\n\nconst instance = axios.create({\n    baseURL: 'https://api.themoviedb.org/3',\n    params: {\n        api_key: 'cf961b1b89f4c4a28558be2b04fdd59a',\n    }\n}) //params for all project\nexport const trendingMovies = async () => {\n    const { data } = await instance.get('/trending/movie/day');\n    return data;\n}\n\nexport const getMovieInfoById = async (id) => {\n  const {data} = await instance.get(`/movie/${id}`);\n  return data;\n}\n\nexport const searchMovies = async (search) => {\n  const {data} = await instance.get(`/search/movie?query=${search}&page=1`);\n  return data;\n}\n\nexport const movieCast = async (id) => {\n  const {data} = await instance.get (`/movie/${id}/credits`);\n  return data;\n}\n\nexport const movieReviews= async (id) => {\n  const {data} = await instance.get (`/movie/${id}/reviews`);\n  return data;\n}"],"names":["search","initialState","onSubmit","useState","state","setState","handleChange","target","name","value","prevState","handleSubmit","e","preventDefault","MovieSearchForm","useForm","className","css","type","onChange","autoComplete","autoFocus","placeholder","required","memo","items","setItems","loading","setLoading","error","setError","useSearchParams","searchParams","setSearchParams","get","page","useEffect","fetchMovies","searchMovies","data","prevItems","results","message","FindMovies","useCallback","MovieList","Loader","location","useLocation","elements","map","id","title","to","from","defaultProps","instance","axios","baseURL","params","api_key","trendingMovies","getMovieInfoById","movieCast","movieReviews"],"sourceRoot":""}